<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="https://asdawej.github.io/favicon.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>asdawej's notes</title>
    <style type="text/css">
		a:link{text-decoration:none; color:#FF359B}
		a:active{text-decoration:underline; color:#FF359B}
		a:hover{text-decoration:underline; color:#FF359B}
		a:visited{text-decoration:none; color:#FF359B}
		body{
        	background:url("https://asdawej.github.io/background_img/e1637830534867.png") no-repeat center center fixed;
			-webkit-background-size:cover;
        	-o-background-size:cover;
        	background-size:cover;
            color:#FF9966;
		}
        pre{
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            font-weight: bold;
            color: black;
            font-size: 16px;
            background-color: rgba(192, 192, 192, 0.5);
            outline: solid;
            outline-color:blue;
            overflow-x: auto;
        }
        codeout{
            color:brown;
        }
        codenote{
            color: green;
        }
	</style><!--链接样式、文字颜色与背景图片-->
</head>
<body>
<div id="container">
    <!--眉部-->
    <div id="header" style="width:1500px; float:left">
        <h1>MATLAB-字符与字符串、元胞、结构体、函数、符号运算、数据处理</h1>
    </div>

    <!--中部-->
    <div id="M_container" style="width:1500px; float:left">
        <!--左区块-->
        <div id="L_menu" style="width:350px; float:left">
            <!--左上菜单-->
            <div id="LU_menu" style="background-color:rgba(192, 192, 192, 0.5); padding:20px">
                <!--个人主页-->
                <img src="https://asdawej.github.io/profile_img.jpg" alt="asdawej"></img>
                <p><b>bilibili:</b><a href="https://space.bilibili.com/350704566?spm_id_from=333.1007.0.0/" target="_blank">asdawej_bilibili</a></p>
                <p><b>Zhihu:</b><a href="https://www.zhihu.com/people/asdawej/" target="_blank">asdawej_Zhihu</a></p>
                <p><b>Github:</b><a href="https://github.com/asdawej/" target="_blank">asdawej_Github</a></p>
                <p><b>LeetCode:</b><a href="https://leetcode.cn/u/asdawej/" target="_blank">asdawej_LeetCode</a></p>
            </div>

            <!--左下菜单-->
            <div id="LD_menu" style="background-color:rgba(25, 153, 229, 0.5); padding:20px">
                <!--功能区-->
                <p><b><a href="https://asdawej.github.io/" style="color:#FF9966">首页</a></b></p>
                <p><a href="../mainpage.html">笔记</a></p>
                <p><b>友链</b></p>
                <p><a href="https://planet.tsinghua.edu.cn/member.php?mod=logging&action=login&referer=https%3A%2F%2Fplanet.tsinghua.edu.cn%2Findex.php" target="_blank">1911星球</a></p>
                <p><a href="https://icp.gov.moe/" target="_blank">萌国ICP备案</a></p>
                <p><a href="http://qwq.re/" target="_blank">律动喵喵的小站</a></p>
                <ul>
                    <li><p><a href="https://ruarua.ru/" target="_blank">Raccon</a></p></li>
                    <li><p><a href="https://quiz.qwq.re/" target="_blank">QwQuiz</a></p></li>
                </ul>
                <p><a href="http://scp-wiki-cn.wikidot.com/" target="_blank">SCP基金会中国分部</a></p>
                <p><a href="http://rpc-wiki-cn.wikidot.com/" target="_blank">RPC管理局中国分部</a></p>
                <p><a href="http://int-wiki.wikidot.com/" target="_blank">INT</a></p>
                <p><a href="https://wanderers-library.wikidot.com/" target="_blank">被放逐者之图书馆</a></p>
            </div>
        </div>

        <!--中间区块-->
        <div id="content_div" style="background-color:rgba(255, 255, 255, 0.5); width:800px; float:left; color:blue">
            <div id="content" style="padding:20px">

<h2 style="color:#FF9966">目录:</h2>
<ul style="color:#FF9966">
    <li><a href="#heading1">字符与字符串</a></li>
    <li><a href="#heading2">元胞</a></li>
    <li><a href="#heading3">结构体</a></li>
    <li><a href="#heading4">函数</a></li>
    <li><a href="#heading5">符号运算</a></li>
    <li><a href="#heading6">数据处理</a></li>
</ul>
<h2 id="heading1">字符与字符串</h2>
<p>字符数组用单引号, 字符串用双引号.
<br>strlength可以求出字符串的长度.
<br>通过char可以将字符串转化为字符数组; 相应的, 可以用string将字符数组转化为字符串.</p>
<p>字符串在数组中的地位与字符数组地位不同, 字符数组为多个值, 字符串为一个值, 可以看作是叠在二维上但保持数组本身维度不变的字符数组整体.
<br>字符串占据了第二维, 因此字符串行向量是排在第三维上的:</p>
<pre>
    <codenote>% 2x3 -> 2x2x3</codenote>
    <code>>> char(["s1", "s2", "s3"; "s4", "s5", "s6"])</code>
    <codeout>(:, :, 1) = ['s1'; 's4']</codeout>
    <codeout>(:, :, 2) = ['s2'; 's5']</codeout>
    <codeout>(:, :, 3) = ['s3'; 's6']</codeout>
    <br>
    <codenote>% 2x3 -> 2x1</codenote>
    <code>>> string(['1', '2', '3'; '4', '5', '6'])</code>
    <codeout>["123"; "456"]</codeout>
</pre>
<p>字符串作为一个整体值, 无法像字符数组一样支持ASCII值运算如减法、加法之类的.
<br>字符串的加法为连接字符串.</p>
<p>字符数组与字符串可以和数字相互转化.
<br>当使用double进行转化时, 字符数组是将ASCII值转化为double类型; 而字符串则会“忠实地”将字面值数字(包括中间带一个空格、逗号或单撇的数字)转化出来.
<br>str2double和str2num可以对字符数组和字符串作用, 按字符字面提取数字:</p>
<pre>
    <code>>> double(['123'; '1e2'])</code>
    <codeout>[49, 50, 51; 49, 101, 50]</codeout>
    <code>>> double(["123"; "1e2"])</code>
    <codeout>[123.0000; 100.0000]</codeout>
    <code>>> double(["123", "456"])</code>
    <codeout>[123, 456]</codeout>
    <code>>> double(["123 456", "123,456", "123'456"])</code>
    <codeout>[123456, 123456, 123456]</codeout>
    <br>
    <code>>> str2double(['123', '1e5'])</code>
    <codeout>123100000</codeout>
    <code>>> str2double(['123'; '456'])                     </code><codenote>% 对于非向量字符数组, 按照迭代顺序提取</codenote>
    <codeout>142536</codeout>
    <code>>> str2double(['123'; '4e6'])                     </code><codenote>% 同上</codenote>
    <codeout>1.4200e+38</codeout>
    <code>>> str2double(["123", "456"])</code>
    <codeout>[123, 456]</codeout>
    <code>>> str2double(["123,456"; "123 456"; "123'456"])  </code><codenote>% 只有逗号分割被允许</codenote>
    <codeout>[123456; NaN; NaN]</codeout>
    <br>
    <codenote>% str2num类似于Python里的eval</codenote>
    <code>>> str2num('123; 456')</code>
    <codeout>[123; 456]</codeout>
    <code>>> str2num("123; 456")</code>
    <codeout>[123; 456]</codeout>
</pre>
<p>string可以直接将数字转为一个字符串; 而想要变成字符数组, 需要使用num2str.</p>
<pre>
    <code>>> num2str([123, 456])</code>
    <codeout>'123  456'</codeout>
</pre>
<p>字符数组可以索引, 字符串为整体值, 没有内部索引.</p>
<h2 id="heading2">元胞</h2>
<p>元胞类似于表格, 可以自动扩充.
<br>当我们用小括号索引(也就是通常的索引时), 我们总是得到一个元胞; 而当我们使用大括号索引时, 我们才能取到元胞中的值.
<br>与数组不同, 元胞允许空值的存在, 我们没有赋值的地方默认为[].
<br>对一个元胞赋值为[]时可以清除这个元胞; 但是对元胞内容赋值为[]只能清除内容.</p>
<pre>
    <code>>> a = {1, 2, 3};</code>
    <code>>> a{2, 2} = 'a'</code>
    <codeout>{1, 2, 3;</codeout>
    <codeout>[], 'a', []}</codeout>
    <code>>> a(3, 3) = {1>0}</code>
    <codeout>{1, 2, 3;</codeout>
    <codeout>[], 'a', [];</codeout>
    <codeout>[], [], 1}</codeout>
    <code>>> for i = 1:3</code>
    <code>       a{i, i} = [];  </code><codenote>% 对元胞内部赋空值</codenote>
    <code>   end</code>
    <code>>> a</code>
    <codeout>{[], 2, 3;</codeout>
    <codeout>[], [], [];</codeout>
    <codeout>[], [], []}</codeout>
    <code>>> for i = 1:3</code>
    <code>       a(1, :) = [];  </code><codenote>% 清除元胞</codenote>
    <code>   end</code>
    <code>>> a</code>
    <codeout>0x3 cell</codeout>
</pre>
<p>元胞在数组中具有主导地位, 可以自动吸纳非元胞数据, 除非外面还有一层元胞:</p>
<pre>
    <code>>> [{1, 2}, 3]</code>
    <codeout>{1, 2, 3}</codeout>
    <code>>> {{1, 2}, 3}</code>
    <codeout>{1x2 cell, 3}</codeout>
</pre>
<p>mat2cell和cell2mat使得我们可以进行类似分块矩阵的运算:</p>
<pre>
    <code>>> a = [1, 2, 3, 4;</code>
    <code>       5, 6, 7, 8;</code>
    <code>       9, 10, 11, 12];</code>
    <code>>> mat2cell(a, [1, 2], [1, 3])</code>
    <codeout>{1, [2, 3, 4];</codeout>
    <codeout>[5, 9], [6, 7, 8; 10, 11, 12]}</codeout>
    <code>>> cell2mat({[1, 2], 3; [4, 5], 6})</code>
    <codeout>[1, 2, 3; 4, 5, 6]</codeout>
</pre>
<h2 id="heading3">结构体</h2>
<p>结构体类似于数据库, 对于其中每一组数据(用索引取得), 分为若干字段记录数据.</p>
<pre>
    <code>>> s1.a = 1; s1.b = 'q'</code>
    <codeout>s1 =</codeout>
    <codeout>a | b</codeout>
    <codeout>1 | 'q'</codeout>
    <code>>> s1(2).a = 2; s1(2).b = 'w'</code>
    <codeout>s1 =</codeout>
    <codeout>a | b</codeout>
    <codeout>1 | 'q'</codeout>
    <codeout>2 | 'w'</codeout>
    <br>
    <code>>> s2 = struct('a', {1, 2}, 'b', {'q'})</code>
    <codeout>s2 =</codeout>
    <codeout>a | b</codeout>
    <codeout>1 | 'q'</codeout>
    <codeout>2 | 'q'</codeout>
    <code>>> s2 = struct('a', {{1, 2}}, 'b', {'q'})</code>
    <codeout>s2 =</codeout>
    <codeout>a | b</codeout>
    <codeout>1x2 cell | 'q'</codeout>
</pre>
<p>结构体一次读取多个数据时, 会逐个将其输出而不是放入一个数组或元胞, 因此如果需要转运这些数据, 需要外面包裹数组或元胞:</p>
<pre>
    <code>>> a = struct('a', {78, 'char'});</code>
    <code>>> [a.a]</code>
    <codeout>'Nchar'</codeout>
    <code>>> {a.a}</code>
    <codeout>{78, 'char'}</codeout>
</pre>
<p>结构体实际上是一种数组, 可以像常规数组一样合并.
<br>其中, 2x1结构体和1x2结构体是类似的, 但是合并时就会变成二维结构体数组：</p>
<pre>
    <code>>> s1.x = 1; s1.y = 1;</code>
    <code>>> s2.x = 2; s2.y = 2;</code>
    <code>>> s3.x = 3; s3.y = 3;</code>
    <code>>> s4.x = 4; s4.y = 4;</code>
    <code>>> s = [s1, s2; s3, s4]</code>
    <codeout>2x2 struct</codeout>
    <code>>> s(1, 1)</code>
    <codeout>x | y</codeout>
    <codeout>1 | 1</codeout>
</pre>
<h2 id="heading4">函数</h2>
<p>输入[x1, ...]输出[y1, ...]的函数func定义为:</p>
<pre>
    <code>function [y1, ...] = func(x1, ...)</code>
    <code>    cmd</code>
    <code>end</code>
</pre>
<p>MATLAB定义函数一般从文件下方开始往上定义, 对于函数文件, 主函数须放在开头, 并且与文件名同; 而脚本中的局部函数, 只能放在文件最末尾.</p>
<p>句柄, 负责将函数进行传递以实现复杂功能的数据类型.通过@即可得到函数的句柄, 包括匿名函数:</p>
<pre>
    <code>>> a = 1;</code>
    <code>>> f = @(x, y) a*x.*y;</code>
    <code>>> clear a;                   </code><codenote>% 与Python不同, 定义匿名函数时, a的值已经被记录为常值了</codenote>
    <code>>> f([1, 2, 3], [4, 5, 6])</code>
    <codeout>[4, 10, 18]</codeout>
</pre>
<h2 id="heading5">符号运算</h2>
<p>定义变量:</p>
<pre>
    <code>syms a b              </code><codenote>% 定义变量</codenote>
    <code>syms c [2, 3]         </code><codenote>% 定义矩阵</codenote>
    <code>syms 'd%d%d' [2, 3]   </code><codenote>% 对元素命名格式化</codenote>
    <code>syms e 2              </code><codenote>% 定义方阵</codenote>
    <br>
    <codenote>工作区:</codenote>
    <codeout>a: 1x1 sym</codeout>
    <codeout>b: 1x1 sym</codeout>
    <codeout>c: 1x1 sym</codeout>
    <codeout>c1_1 c1_2 c1_3 c2_1 c2_2 c2_3: 1x1 sym</codeout>
    <codeout>d: 1x1 sym</codeout>
    <codeout>d11 d12 d13 d21 d22 d23: 1x1 sym</codeout>
    <codeout>e: 1x1 sym</codeout>
    <codeout>e1_1 e1_2 e2_2 e_2: 1x1 sym</codeout>
</pre>
<p>定义函数:</p>
<pre>
    <code>syms f(x) g(y)</code>
    <br>
    <codenote>工作区:</codenote>
    <codeout>f: 1x1 symfun</codeout>
    <codeout>g: 1x1 symfun</codeout>
    <codeout>x: 1x1 sym</codeout>
</pre>
<p>也可以使用sym函数式定义, 这时, 我们可以直接定义一个矩阵而非像syms一样用元素挤占工作区:</p>
<pre>
    <code>>> a = sym('a', 2)</code>
    <codeout>a =</codeout>
    <codeout>a_1,1 a_1,2</codeout>
    <codeout>a_2,1 a_2,2</codeout>
    <code>>> b = sym('b_q%d_%d', 2)</code>
    <codeout>b =</codeout>
    <codeout>b_q1,1 b_q1,2</codeout>
    <codeout>b_q2,1 b_q2,2</codeout>
    <codenote>% 以上输出的下划线指后面为脚标</codenote>
</pre>
<p>有了这些变量的定义, 我们可以像正常数值一样计算它们, 但是符号计算是精确的:</p>
<pre>
    <code>>> 1/sym(123456)</code>
    <codeout>1/123456</codeout>
    <code>>> sym(1/123456)</code>
    <codeout>1195356666259043/147573952589676412928</codeout>
</pre>
<p>对于符号函数, 我们可以直接像常规函数一样使用; 但是对于符号运算出来的式子, 应当使用subs来进行数值计算:</p>
<pre>
    <code>>> syms a b</code>
    <code>>> c = a+b^2;</code>
    <code>>> subs(c, [a, b], [1.5, 1])</code>
    <codeout>5/2</codeout>
    <code>>> subs(c, {a, b}, {[1.5, 1; 2.1, 2], [1, 1; 3.25, 4]})</code>
    <codeout>[5/2, 2; 1013/80, 18]</codeout>
</pre>
<h2 id="heading6">数据处理</h2>
<p>前面的save和load分别有自己的函数式.
<br>除了这两个, 还有读取文本的fileread、向文本写入表格的writetable、读取表格的readtable、读取图像的imread和写图像的imwrite.</p>
<h3>曲线拟合器</h3>
<p>在APP中选择曲线拟合器, 选择数据和拟合模型后, 即可得到拟合结果.
<br>其中, 线性拟合为选择基函数, 通过基函数的线性组合进行拟合.</p>
<h3>直方图</h3>
<p>使用histogram(data)绘制data的直方图.
<br>可以指定为histogram(data, n)或者histogram(data, arr)来确定其直方图的分组数, 其中n直接指定分组数, arr指定分割点(左闭右开).
<br>histogram(..., key, value)可以指定图的相关属性:</p>
<pre>
    <code>histogram(data, 'Normalization', 'probability')   </code><codenote>% 矩形高度表示频率</codenote>
    <code>histogram(data, 'Normalization', 'pdf')           </code><codenote>% 矩形面积表示频率</codenote>
    <code>histogram(data, 'FaceColor', [0.9,0.5,0.2])       </code><codenote>% 调整颜色</codenote>
</pre>
<b style="color:#FF9966">零星补充:</b>
<pre style="outline-color:#FF9966">
    <code>[a, b] = deal([1, 2])     </code><codenote>% 用deal实现解包</codenote>
    <codeout>a = 1  b = 2</codeout>
    <br>
    <code>integral(@(x) x.^2, 0, 1) </code><codenote>% 数值积分</codenote>
    <codeout>0.3333</codeout>
    <br>
    <code>syms f(x)</code>
    <code>f(x) = x.^2;</code>
    <code>diff(f, 2)                </code><codenote>% f的二阶导</codenote>
    <codeout>2</codeout>
    <br>
    <code>fourier(cos(x))           </code><codenote>% Fourier变换</codenote>
    <codeout>pi*(dirac(w-1)+dirac(w+1))</codeout>
    <br>
    <code>laplace(f)                </code><codenote>% Laplace变换</codenote>
    <codeout>2/s^3</codeout>
</pre>

            </div>
        </div>

    <!--脚部-->
    <div id="footer" style="width:1500px; background-color:rgba(192, 192, 192, 0.5); text-align:center; float:left">
        <p>Copyright © asdawej. All rights reserved.</p>
        <p><a href="https://icp.gov.moe/?keyword=20227744" target="_blank">萌ICP备20227744号</a></p>
    </div>
</div>
</body>
</html>
